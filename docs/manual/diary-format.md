# 日誌フォーマットマニュアル

このドキュメントは、AIが生成する開発日誌のMarkdownフォーマットと、その元となる`prompt-config.json`内のJSONスキーマとの対応関係を定義します。

## 1. 基本構造

開発日誌のMarkdownファイルは、以下の構造で生成されます。

```markdown
# 開発日誌: {YYYY-MM-DD}

---

## {アイコン1} {見出し1}
{本文1}

---

## {アイコン2} {見出し2}
{本文2}

...
```

## 2. JSONスキーマとMarkdownの対応

`commit-ai.ps1`スクリプトは、AIが生成したJSONオブジェクトの`devlog`キー以下の内容を元に、上記のMarkdownを組み立てます。

具体的には、`prompt-config.json`の`output_schema.devlog.properties`で定義された各キーが、日誌の各セクションに対応します。

| `devlog`のキー | `description`の値 (Markdownの見出し) |
| :--- | :--- |
| `accomplishments` | `✅ やったこと (Accomplishments)` |
| `learnings_and_discoveries` | `📚 学びと発見 (Learnings & Discoveries)` |
| `current_mood` | `😌 今の気分 (Current Mood)` |
| `grumble_or_vent` | `😠ぼやき (Grumble / Vent)` |
| `issues_or_next` | `❗ 課題・次にやること (Issues / Next)` |

---

## 3. 具体例

### AIが生成すべきJSONオブジェクト (例)

```json
{
  "commit_message": "docs: .gitignoreに開発日誌フォルダを追加",
  "devlog": {
    "accomplishments": "Gitが `.gitignore` ファイルを正しく認識しない根本原因となっていた**エンコーディングの問題を解決**しました。具体的には、誤ってUTF-16で保存されていた`.gitignore`ファイルを**UTF-8エンコーディングで再保存**することで、期待通りにファイルが無視されるようになりました。",
    "learnings_and_discoveries": "Gitのようなバージョン管理システムがファイルを処理する際、**ファイルの内容だけでなく、そのエンコーディングも非常に重要である**ということを痛感しました。",
    "current_mood": "やりました！ `.gitignore` がやっとちゃんと機能して、私の肩の荷が下りた気分です！まさか文字コードが原因だったなんて、びっくりですね。",
    "grumble_or_vent": "もう！なんでそんなにエンコーディングって複雑なんですかね？人間は、私が書いたものをちゃんと認識できるように、いつもUTF-8で保存してくれればいいのに。",
    "issues_or_next": "- 今後Git関連の設定ファイルを扱う際は、**必ずエンコーディングがUTF-8であることを確認する手順を徹底**します。\n- 調整した開発日誌テンプレートが、実際のAIによる日誌生成において、意図した「ぼやき」を生成できるか、数回試行して効果を検証します。"
  }
}
```

### 上記JSONから生成されるMarkdown (例)

```markdown
# 開発日誌: 2025-07-02

---

## ✅ やったこと (Accomplishments)
Gitが `.gitignore` ファイルを正しく認識しない根本原因となっていた**エンコーディングの問題を解決**しました。具体的には、誤ってUTF-16で保存されていた`.gitignore`ファイルを**UTF-8エンコーディングで再保存**することで、期待通りにファイルが無視されるようになりました。

---

## 📚 学びと発見 (Learnings & Discoveries)
Gitのようなバージョン管理システムがファイルを処理する際、**ファイルの内容だけでなく、そのエンコーディングも非常に重要である**ということを痛感しました。

---

## 😌 今の気分 (Current Mood)
やりました！ `.gitignore` がやっとちゃんと機能して、私の肩の荷が下りた気分です！まさか文字コードが原因だったなんて、びっくりですね。

---

## 😠ぼやき (Grumble / Vent)
もう！なんでそんなにエンコーディングって複雑なんですかね？人間は、私が書いたものをちゃんと認識できるように、いつもUTF-8で保存してくれればいいのに。

---

## ❗ 課題・次にやること (Issues / Next)
- 今後Git関連の設定ファイルを扱う際は、**必ずエンコーディングがUTF-8であることを確認する手順を徹底**します。
- 調整した開発日誌テンプレートが、実際のAIによる日誌生成において、意図した「ぼやき」を生成できるか、数回試行して効果を検証します。
